# Restore some Source file names and restore approximate line numbers in the stack traces,
# otherwise the stack traces are pretty useless
-keepattributes SourceFile,LineNumberTable
-dontskipnonpubliclibraryclassmembers

# ACRA needs "annotations" so add this... 
# Note: This may already be defined in the default "proguard-android-optimize.txt"
# file in the SDK. If it is, then you don't need to duplicate it. See your
# "project.properties" file to get the path to the default "proguard-android-optimize.txt".
#-keepattributes *Annotation*

# keep this class so that logging will show 'ACRA' and not a obfuscated name like 'a'.
# Note: if you are removing log messages elsewhere in this file then this isn't necessary
-keep class org.acra.ACRA {
    *;
}

# keep this around for some enums that ACRA needs
-keep class org.acra.ReportingInteractionMode {
    *;
}

-keepnames class org.acra.sender.HttpSender$** {
    *;
}

-keepnames class org.acra.ReportField {
    *;
}

# keep this otherwise it is removed by ProGuard
-keep public class org.acra.ErrorReporter {
    public void addCustomData(java.lang.String,java.lang.String);
    public void putCustomData(java.lang.String,java.lang.String);
    public void removeCustomData(java.lang.String);
}

# keep this otherwise it is removed by ProGuard
-keep public class org.acra.ErrorReporter {
    public void handleSilentException(java.lang.Throwable);
}

#-keep class org.bouncycastle.** { *; }
-keep class com.itextpdf.** { *; }
-dontwarn org.bouncycastle.**
-dontwarn com.itextpdf.**

-keepclassmembers class org.totschnig.myexpenses.provider.filter.** {
 public <init>(java.lang.String,java.lang.String[]);
}

-keep class com.android.vending.billing.**
# AMAZON
-dontwarn com.amazon.**
-keep class com.amazon.** {*;}
-keepattributes *Annotation*
-dontoptimize

# SAMSUNG
-keep class com.sec.android.iap.**

# NOKIA
-keep class com.nokia.payment.iap.aidl.**

#FORTUMO
-keep class mp.** { *; }

#Guava
-dontwarn javax.annotation.**
-dontwarn javax.inject.**
-dontwarn sun.misc.Unsafe

-dontwarn org.apache.http.**
-dontwarn android.net.http.AndroidHttpClient
-dontwarn com.google.android.gms.**
-dontwarn com.android.volley.toolbox.**

-keepclassmembers class * {
    @com.google.common.annotations.VisibleForTesting *;
}

-keep enum org.totschnig.myexpenses.activity.*$HelpVariant

-keep class android.support.v7.widget.SearchView { *; }

-keep class se.emilsjolander.stickylistheaders.StickyListHeadersListView { *; }

#Picasso
-dontwarn com.squareup.okhttp.**

# needed by MyTestRunner
-keepclassmembers class org.totschnig.myexpenses.MyApplication {
    protected static boolean instrumentationTest;
    public static void cleanUpAfterTest();
}

# Espresso Contrib DrawerActions accesses this through reflection
-keepclassmembers class android.support.v4.widget.DrawerLayout {
    private android.support.v4.widget.DrawerLayout$DrawerListener mListener;
    public void setDrawerListener(android.support.v4.widget.DrawerLayout$DrawerListener);
}

-keep class com.google.ads.mediation.admob.AdMobAdapter {
    *;
}

-keep class com.google.ads.mediation.AdUrlAdapter {
    *;
}

-keep class com.rhythmone.** { *; }
-dontwarn com.rhythmone.**
-keep class com.google.ads.mediation.RhythmAdapter {
    *;
}
-keep class com.google.ads.mediation.FacebookAdapter {
    *;
}
-keep class com.facebook.ads.** { *; }

-keep public class com.google.android.gms.ads.** {
   public *;
}
-keep public class com.google.ads.** {
   public *;
}

-dontwarn icepick.**
-keep class icepick.** { *; }
-keep class **$$Icepick { *; }
-keepclasseswithmembernames class * {
    @icepick.* <fields>;
}